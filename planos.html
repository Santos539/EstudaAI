<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Planos - Estuda.AI</title>
    <style>
      :root {
        --bg-primary: #ffffff;
        --bg-secondary: #f8f9fa;
        --text-primary: #000000;
        --border-color: #dee2e6;
        --btn-primary: #000000;
        --btn-text: #ffffff;
        --accent: #000000;
        --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      [data-theme="dark"] {
        --bg-primary: #121212;
        --bg-secondary: #1e1e1e;
        --text-primary: #f8f9fa;
        --border-color: #444;
        --btn-primary: #ffffff;
        --btn-text: #000000;
        --accent: #ffffff;
        --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", sans-serif;
        background-color: var(--bg-primary);
        color: var(--text-primary);
        line-height: 1.7;
        transition: all 0.3s ease;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* Cabeçalho */
      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 20px;
        border-bottom: 1px solid var(--border-color);
      }

      .logo img {
        height: 60px;
        border-radius: 50%;
        border: 2px solid var(--accent);
        cursor: pointer;
      }

      .header-buttons {
        display: flex;
        gap: 10px;
      }

      .btn {
        padding: 10px 18px;
        border-radius: 6px;
        border: 1px solid var(--border-color);
        cursor: pointer;
        font-size: 0.95rem;
        transition: all 0.3s ease;
      }

      .btn-primary {
        background: var(--btn-primary);
        color: var(--btn-text);
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: var(--card-shadow);
      }

      /* Título */
      .hero {
        text-align: center;
        padding: 80px 0 60px;
      }

      .hero h2 {
        font-size: 2.5rem;
        margin-bottom: 20px;
      }

      .hero p {
        font-size: 1.2rem;
        max-width: 800px;
        margin: 0 auto;
        opacity: 0.9;
      }

      /* Planos */
      .plans {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 30px;
        padding: 60px 0;
      }

      .plan {
        background: var(--bg-secondary);
        border-radius: 12px;
        border: 1px solid var(--border-color);
        padding: 30px;
        width: 320px;
        box-shadow: var(--card-shadow);
        transition: transform 0.3s ease;
      }

      .plan:hover {
        transform: translateY(-5px);
      }

      .plan.popular {
        border: 2px solid var(--accent);
        position: relative;
      }

      .popular-tag {
        position: absolute;
        top: -12px;
        right: 20px;
        background: var(--accent);
        color: var(--btn-text);
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: bold;
      }

      .plan h3 {
        font-size: 1.5rem;
        margin-bottom: 10px;
      }

      .plan .price {
        font-size: 2.5rem;
        font-weight: bold;
        margin-bottom: 20px;
      }

      .plan .price span {
        font-size: 1rem;
        opacity: 0.7;
      }

      .plan ul {
        list-style: none;
        margin-bottom: 30px;
      }

      .plan ul li {
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .plan ul li::before {
        content: "✓";
        color: var(--accent);
        font-weight: bold;
      }

      .plan button {
        width: 100%;
        padding: 14px;
        border: none;
        border-radius: 6px;
        background: var(--btn-primary);
        color: var(--btn-text);
        font-size: 1.1rem;
        cursor: pointer;
      }

      .plan button:hover {
        opacity: 0.9;
      }

      .plan button.outline {
        background: transparent;
        color: var(--text-primary);
        border: 1px solid var(--border-color);
      }

      /* Rodapé */
      footer {
        text-align: center;
        padding: 40px 0;
        border-top: 1px solid var(--border-color);
        margin-top: 80px;
        opacity: 0.8;
        font-size: 0.95rem;
      }

      /* Responsividade */
      @media (max-width: 768px) {
        .plans {
          flex-direction: column;
          align-items: center;
        }
        .plan {
          width: 100%;
          max-width: 400px;
        }
      }

      .Frase {
        text-align: center;
        font-size: 1rem;
        color: #555;
        max-width: 500px;
        margin: 20px auto 0;
      }

      /* Estilo do modal de mensagem */
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 2000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
      }

      .modal-overlay.show {
        opacity: 1;
        visibility: visible;
      }

      .modal {
        background: var(--bg-primary);
        border: 1px solid var(--border-color);
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        width: 90%;
        max-width: 500px;
        padding: 25px;
        text-align: center;
        position: relative;
        transform: translateY(-20px);
        transition: transform 0.3s ease;
      }

      .modal-overlay.show .modal {
        transform: translateY(0);
      }

      .modal h3 {
        font-size: 1.4rem;
        margin-bottom: 15px;
        color: var(--text-primary);
      }

      .modal p {
        font-size: 1rem;
        opacity: 0.9;
        margin-bottom: 20px;
      }

      .modal-btn {
        background: var(--btn-primary);
        color: var(--btn-text);
        border: none;
        padding: 10px 25px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 1rem;
        margin: 0 5px;
        transition: opacity 0.2s;
      }

      .modal-btn.cancel {
        background: transparent;
        color: var(--text-primary);
        border: 1px solid var(--border-color);
      }

      .modal-btn:hover {
        opacity: 0.9;
      }

      /* Acessibilidade */
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }
    </style>
  </head>
  <body>
    <!-- Cabeçalho -->
    <header>
      <div class="logo" id="logo">
        <img src="imagens/Logo Preta.png" alt="Estuda.AI" />
      </div>
      <div class="header-buttons">
        <button class="btn btn-primary" id="themeToggle">Tema Escuro</button>
        <button class="btn" id="authBtn">Carregando...</button>
      </div>
    </header>

    <!-- Seção Hero -->
    <section class="hero">
      <div class="container">
        <h2>Escolha seu plano ideal</h2>
        <p>
          Com o Estuda.AI, você monta seu cronograma inteligente com base no seu
          tempo, matéria de dificuldade e concurso.
        </p>
      </div>
    </section>

    <!-- Planos -->
    <section class="plans">
      <!-- Plano GRÁTIS -->
      <div class="plan">
        <h3>Teste Grátis</h3>
        <div class="price">Grátis<span>/7 dias</span></div>
        <ul>
          <li>Cronograma semanal com IA</li>
          <li>1 matéria de prioridade</li>
          <li>Temas por concurso (ENEM, FUVEST, UERJ)</li>
          <li>Horários personalizados</li>
        </ul>
        <button class="outline" data-plan="gratuito" id="btn-gratuito">
          Começar Teste
        </button>
      </div>

      <!-- Plano Básico -->
      <div class="plan">
        <h3>Básico</h3>
        <div class="price">R$14,90<span>/mês</span></div>
        <ul>
          <li>Tudo do gratuito</li>
          <li>Revisões diárias</li>
          <li>Alertas de estudo (email)</li>
          <li>1 matéria prioritária</li>
          <li>Exportar para PDF</li>
          <li>Simulados básicos</li>
        </ul>
        <button class="outline" data-plan="basico" id="btn-basico">
          Assinar Básico
        </button>
      </div>

      <!-- Plano Pro (Popular) -->
      <div class="plan popular">
        <div class="popular-tag">MAIS ESCOLHIDO</div>
        <h3>Pro</h3>
        <div class="price">R$26,90<span>/mês</span></div>
        <ul>
          <li>Tudo do Básico</li>
          <li>Revisões diárias e semanais</li>
          <li>Simulados personalizados</li>
          <li>Alertas de estudo (email)</li>
          <li>2 matérias prioritárias</li>
          <li>IA ajusta cronograma com seu desempenho</li>
        </ul>
        <button data-plan="pro" id="btn-pro">Assinar Pro</button>
      </div>

      <!-- Plano Premium -->
      <div class="plan">
        <h3>Premium</h3>
        <div class="price">R$49,90<span>/mês</span></div>
        <ul>
          <li>Tudo do Pro</li>
          <li>IA com memória de longo prazo</li>
          <li>Feedback detalhado por bloco</li>
          <li>Integração com Google Agenda</li>
          <li>Gravação de áudio para revisão</li>
          <li>Suporte prioritário</li>
          <li>Atualizações em tempo real</li>
        </ul>
        <button class="outline" data-plan="premium" id="btn-premium">
          Tornar-se Premium
        </button>
      </div>
    </section>

    <p class="Frase">
      <strong
        >Pague com Pix, crédito ou boleto. 10% OFF no pix e 5% OFF no cartão de
        crédito à vista.</strong
      ><br />
      Não curtiu? Que pena! Mas você ainda tem 7 dias pra cancelar, caso mude de
      idéia.
    </p>

    <!-- Rodapé -->
    <footer>
      <div class="container">
        <p>&copy; 2025 Estuda.AI – Todos os direitos reservados</p>
        <p>Estude com inteligência, não com exaustão.</p>
      </div>
    </footer>

    <!-- Modal de Mensagem -->
    <div
      class="modal-overlay"
      id="msgModal"
      role="dialog"
      aria-modal="true"
      aria-labelledby="modalTitle"
    >
      <div class="modal">
        <h3 id="modalTitle">Aviso</h3>
        <p id="modalMessage" role="alert">Mensagem aqui</p>
        <button class="modal-btn" id="modalBtn">OK</button>
      </div>
    </div>

    <script>
      // ====== 1. Elementos do DOM ======
      document.addEventListener("DOMContentLoaded", () => {
        const themeToggle = document.getElementById("themeToggle");
        const body = document.body;
        const logo = document.querySelector(".logo img");
        const authBtn = document.getElementById("authBtn");

        // Verifica login
        const currentUser = localStorage.getItem("currentUser");
        if (!currentUser) {
          window.location.href = "login.html";
        }

        // Atualiza botão de usuário
        authBtn.textContent = `Olá, ${currentUser}`;
        authBtn.classList.add("btn-highlight"); // opcional: destaque visual
        authBtn.onclick = () => {
          window.location.href = "perfil.html"; // redireciona direto para perfil
        };
        // ====== 2. Tema ======
        let isDark = localStorage.getItem("theme") === "dark";

        function setTheme(dark) {
          if (dark) {
            body.setAttribute("data-theme", "dark");
            themeToggle.textContent = "Tema Claro";
            logo.src = "imagens/Logo Branca.png";
          } else {
            body.removeAttribute("data-theme");
            themeToggle.textContent = "Tema Escuro";
            logo.src = "imagens/Logo Preta.png";
          }
          localStorage.setItem("theme", dark ? "dark" : "light");
        }

        // Aplica tema ao carregar
        setTheme(isDark);

        // Alterna tema ao clicar
        themeToggle.addEventListener("click", () => {
          isDark = !isDark;
          setTheme(isDark);
        });

        // ====== 3. Botão na logo → home ======
        document.getElementById("logo").addEventListener("click", () => {
          window.location.href = "index.html";
        });

        // ====== 4. Função do modal ======
        function mostrarMensagem(
          titulo,
          mensagem,
          onConfirm = null,
          showCancel = false
        ) {
          const modal = document.getElementById("msgModal");
          const modalTitle = document.getElementById("modalTitle");
          const modalMessage = document.getElementById("modalMessage");
          const modalBtn = document.getElementById("modalBtn");

          modalTitle.textContent = titulo;
          modalMessage.textContent = mensagem;

          modalBtn.textContent = showCancel ? "Sair" : "OK";
          modalBtn.onclick = null;
          modalBtn.onclick = () => {
            modal.classList.remove("show");
            if (onConfirm) onConfirm();
          };

          modal.onclick = (e) => {
            if (e.target === modal && !showCancel) {
              modal.classList.remove("show");
              if (onConfirm) onConfirm();
            }
          };

          if (showCancel) {
            const btnCancel = document.createElement("button");
            btnCancel.textContent = "Cancelar";
            btnCancel.className = "modal-btn";
            btnCancel.style.background = "transparent";
            btnCancel.style.color = "var(--text-primary)";
            btnCancel.style.border = "1px solid var(--border-color)";
            btnCancel.style.marginLeft = "10px";

            modalBtn.parentNode.appendChild(btnCancel);

            btnCancel.onclick = (e) => {
              e.stopPropagation();
              modal.classList.remove("show");
            };
          }

          modal.classList.add("show");
        }

        // ====== 5. Atualização dos botões com base no plano do usuário ======
        const userPlan =
          localStorage.getItem("userPlan_" + currentUser) || "gratuito";

        // Função para atualizar botão
        function atualizarBotao(id, planoNome, textoAssinar, acao) {
          const btn = document.getElementById(id);
          if (planoNome === userPlan) {
            btn.textContent = "Seu plano atual";
            btn.disabled = true;
            btn.style.opacity = "0.7";
            btn.style.cursor = "not-allowed";
            btn.onclick = (e) => {
              e.preventDefault();
              mostrarMensagem(
                "Plano Atual",
                `Você já possui o plano ${
                  planoNome.charAt(0).toUpperCase() + planoNome.slice(1)
                }. Continue estudando com foco!`
              );
            };
          } else {
            btn.textContent = textoAssinar;
            btn.disabled = false;
            btn.style.opacity = "1";
            btn.style.cursor = "pointer";
            btn.onclick = acao;
          }
        }

        // Atualiza todos os botões
        atualizarBotao("btn-gratuito", "gratuito", "Começar Teste", () => {
          mostrarMensagem(
            "Teste Ativo!",
            "Você já está usando o plano gratuito por 7 dias. Para mais recursos, considere atualizar.",
            () => {}
          );
        });

        atualizarBotao("btn-basico", "basico", "Assinar Básico", () => {
          mostrarMensagem(
            "Plano Básico",
            "Você escolheu o plano Básico. Em breve integração com pagamento.",
            () => {
              localStorage.setItem("userPlan_" + currentUser, "basico");
              window.location.href = "cronograma.html";
            }
          );
        });

        atualizarBotao("btn-pro", "pro", "Assinar Pro", () => {
          mostrarMensagem(
            "Plano Pro",
            "Você escolheu o plano Pro. Em breve integração com pagamento.",
            () => {
              localStorage.setItem("userPlan_" + currentUser, "pro");
              window.location.href = "cronograma.html";
            }
          );
        });

        atualizarBotao("btn-premium", "premium", "Tornar-se Premium", () => {
          mostrarMensagem(
            "Plano Premium",
            "Você escolheu o plano Premium. Em breve integração com pagamento.",
            () => {
              localStorage.setItem("userPlan_" + currentUser, "premium");
              window.location.href = "cronograma.html";
            }
          );
        });
      });
    </script>
  </body>
</html>
